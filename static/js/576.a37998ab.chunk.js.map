{"version":3,"file":"static/js/576.a37998ab.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","icons/search.svg","webpack://react-homework-template/./src/components/ErrorMessage/ErrorMessage.module.css?d773","components/ErrorMessage/ErrorMessage.jsx","webpack://react-homework-template/./src/components/SearchFilms/SearchFilms.module.css?070f","components/SearchFilms/SearchFilms.jsx","pages/Movies/Movies.jsx","server/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"film__list\":\"MoviesList_film__list__uRSgm\",\"filmCard__wrap\":\"MoviesList_filmCard__wrap__xkctP\",\"film__image\":\"MoviesList_film__image__J25aD\",\"info\":\"MoviesList_info__5zfGK\",\"info__title\":\"MoviesList_info__title__UmOdn\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesList.module.css';\n\nconst MoviesList = ({ films }) => {\n  const location = useLocation();\n\n  return (\n    <ul className={css.film__list}>\n      {films.map(({ id, original_title, poster_path, original_name }) => {\n        const imgPoster = 'https://image.tmdb.org/t/p/w500' + poster_path;\n        return (\n          <li key={id} className={css.filmCard__wrap}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              <img\n                className={css.film__image}\n                src={imgPoster}\n                alt={original_title}\n              />\n            </Link>\n            <div className={css.info}>\n              {original_title ? (\n                <h2 className={css.info__title}>{original_title}</h2>\n              ) : (\n                <h2 className={css.info__title}>{original_name}</h2>\n              )}\n            </div>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\nexport default MoviesList;\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 12 12\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.5 9.5C7.70914 9.5 9.5 7.70914 9.5 5.5C9.5 3.29086 7.70914 1.5 5.5 1.5C3.29086 1.5 1.5 3.29086 1.5 5.5C1.5 7.70914 3.29086 9.5 5.5 9.5Z\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.5 10.5002L8.32495 8.3252\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.d601a3cd9a91e2b3e83ee43f9ac34819.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"containerError\":\"ErrorMessage_containerError__E46JF\",\"title\":\"ErrorMessage_title__3MCpC\"};","import GiffError from '../../icons/gif.gif';\nimport css from './ErrorMessage.module.css';\n\nconst ErrorMessage = ({ query }) => {\n  return (\n    <div className={css.containerError}>\n      <img src={GiffError} alt=\"Error\" width=\"400\" />\n      <h2 className={css.title}>No films found with name {query}</h2>\n    </div>\n  );\n};\nexport default ErrorMessage;\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"SearchFilms_Searchbar__Lj64w\",\"SearchForm\":\"SearchFilms_SearchForm__lIyP6\",\"SearchFormButton\":\"SearchFilms_SearchFormButton__YGdWg\",\"SearchFormIcon\":\"SearchFilms_SearchFormIcon__ZL1qD\",\"SearchFormButtonLabel\":\"SearchFilms_SearchFormButtonLabel__H71Kh\",\"SearchFormInput\":\"SearchFilms_SearchFormInput__CD9nZ\"};","import css from './SearchFilms.module.css';\nimport { ReactComponent as SearchIcon } from '../../icons/search.svg';\n\nconst SearchFilms = ({ hendelSubmit, hendelNameChange, name }) => {\n  return (\n    <header className={css.Searchbar}>\n      <form className={css.SearchForm} onSubmit={hendelSubmit}>\n        <input\n          className={css.SearchFormInput}\n          type=\"text\"\n          placeholder=\"enter the name of the movie\"\n          autoFocus\n          value={name}\n          onChange={hendelNameChange}\n        />\n\n        <button className={css.SearchFormButton} type=\"submit\">\n          <SearchIcon className={css.SearchFormIcon} />\n          <span className={css.SearchFormButtonLabel}>Search</span>\n        </button>\n      </form>\n    </header>\n  );\n};\nexport default SearchFilms;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport api from '../../server/api';\nimport MoviesList from 'components/MoviesList';\nimport ErrorMessage from 'components/ErrorMessage';\nimport SearchFilms from 'components/SearchFilms';\nimport Loader from 'components/Loader';\n\nconst statuss = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVE: 'resolve',\n  REJECTED: 'rejected',\n};\n\nconst Movies = () => {\n  const [name, setName] = useState('');\n  const [films, setFilms] = useState([]);\n  const [status, setStatus] = useState(statuss.IDLE);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    (async () => {\n      try {\n        if (!query) {\n          return;\n        }\n        setStatus(statuss.PENDING);\n        api.fetchSearchFilms(query).then(data => {\n          const filmsInfo = data.results.map(\n            ({ id, original_title, poster_path }) => ({\n              id,\n              original_title,\n              poster_path,\n            })\n          );\n          if (filmsInfo.length === 0) {\n            setStatus(statuss.REJECTED);\n            setFilms([]);\n            return;\n          } else {\n            setFilms(data.results);\n            setStatus(statuss.RESOLVE);\n          }\n        });\n      } catch (error) {\n        toast.error(error.message);\n        setStatus(statuss.REJECTED);\n      }\n    })();\n  }, [query]);\n\n  const hendelNameChange = event => {\n    setName(event.currentTarget.value.toLowerCase());\n  };\n\n  const hendelSubmit = event => {\n    event.preventDefault();\n    if (name.trim() === '') {\n      return toast.error('Please enter a name to search!');\n    }\n    setSearchParams({ query: name });\n    setName('');\n  };\n\n  return (\n    <div>\n      <SearchFilms\n        hendelSubmit={hendelSubmit}\n        hendelNameChange={hendelNameChange}\n        name={name}\n      />\n      {status === statuss.PENDING && <Loader />}\n      {status === statuss.RESOLVE && <MoviesList films={films} />}\n      {status === statuss.REJECTED && <ErrorMessage query={query} />}\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n};\nMovies.prototype = {\n  films: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      original_title: PropTypes.string.isRequired,\n      original_name: PropTypes.string.isRequired,\n      poster_path: PropTypes.string.isRequired,\n    })\n  ),\n  query: PropTypes.string.isRequired,\n};\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst KEY = 'c38a13f755f1c1fdbaffd32cebe7bc69';\n\nasync function fetchSearchFilms(query) {\n  const response = await axios.get(\n    `/search/movie?api_key=${KEY}&query=${query}`\n  );\n  return response.data;\n}\n\nasync function fetchTrendingMovie() {\n  const response = await axios.get(`/trending/all/day?api_key=${KEY}`);\n  return response.data;\n}\n\nasync function fetchDetailsMovie(movieId) {\n  const response = await axios.get(`movie/${movieId}?api_key=${KEY}`);\n  return response.data;\n}\n\nasync function fetchCastActors(movieId) {\n  const response = await axios.get(\n    `/movie/${movieId}/credits?api_key=${KEY}&language=en-US`\n  );\n  return response.data;\n}\n\nasync function fetchReviews(movie_id) {\n  const response = await axios.get(\n    `/movie/${movie_id}/reviews?api_key=${KEY}&language=en-US&page=1`\n  );\n  return response.data;\n}\n\nconst api = {\n  fetchSearchFilms,\n  fetchTrendingMovie,\n  fetchDetailsMovie,\n  fetchCastActors,\n  fetchReviews,\n};\nexport default api;\n"],"names":["films","location","useLocation","className","css","map","id","original_title","poster_path","original_name","imgPoster","to","state","from","src","alt","_path","_path2","query","GiffError","width","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSearch","_ref","svgRef","title","titleId","props","height","viewBox","fill","xmlns","ref","d","strokeLinecap","strokeLinejoin","ForwardRef","hendelSubmit","hendelNameChange","name","onSubmit","type","placeholder","autoFocus","value","onChange","statuss","Movies","useState","setName","setFilms","status","setStatus","useSearchParams","searchParams","setSearchParams","get","useEffect","api","then","data","results","toast","message","event","preventDefault","trim","currentTarget","toLowerCase","Loader","MoviesList","autoClose","PropTypes","axios","KEY","fetchSearchFilms","response","fetchTrendingMovie","fetchDetailsMovie","movieId","fetchCastActors","fetchReviews","movie_id"],"sourceRoot":""}