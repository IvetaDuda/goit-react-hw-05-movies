"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[576],{806:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(501),a=r(6871),i="MoviesList_film__list__uRSgm",s="MoviesList_filmCard__wrap__xkctP",c="MoviesList_film__image__J25aD",o="MoviesList_info__5zfGK",u="MoviesList_info__title__UmOdn",l=r(184),p=function(e){var t=e.films,r=(0,a.TH)();return(0,l.jsx)("ul",{className:i,children:t.map((function(e){var t=e.id,a=e.original_title,i=e.poster_path,p=e.original_name,f="https://image.tmdb.org/t/p/w500"+i;return(0,l.jsxs)("li",{className:s,children:[(0,l.jsx)(n.rU,{to:"/movies/".concat(t),state:{from:r},children:(0,l.jsx)("img",{className:c,src:f,alt:a})}),(0,l.jsx)("div",{className:o,children:a?(0,l.jsx)("h2",{className:u,children:a}):(0,l.jsx)("h2",{className:u,children:p})})]},t)}))})}},7576:function(e,t,r){r.r(t),r.d(t,{default:function(){return U}});var n,a,i=r(5861),s=r(885),c=r(7757),o=r.n(c),u=r(2791),l=r(501),p=r(2007),f=r.n(p),h=r(6066),m=r(2231),d=r(806),_=r(967),v="ErrorMessage_containerError__E46JF",g="ErrorMessage_title__3MCpC",x=r(184),b=function(e){var t=e.query;return(0,x.jsxs)("div",{className:v,children:[(0,x.jsx)("img",{src:_,alt:"Error",width:"400"}),(0,x.jsxs)("h2",{className:g,children:["No films found with name ",t]})]})},y="SearchFilms_Searchbar__Lj64w",w="SearchFilms_SearchForm__lIyP6",j="SearchFilms_SearchFormButton__YGdWg",S="SearchFilms_SearchFormIcon__ZL1qD",k="SearchFilms_SearchFormButtonLabel__H71Kh",Z="SearchFilms_SearchFormInput__CD9nZ",N=["title","titleId"];function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}function F(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function L(e,t){var r=e.title,i=e.titleId,s=F(e,N);return u.createElement("svg",C({width:20,height:20,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},s),r?u.createElement("title",{id:i},r):null,n||(n=u.createElement("path",{d:"M5.5 9.5C7.70914 9.5 9.5 7.70914 9.5 5.5C9.5 3.29086 7.70914 1.5 5.5 1.5C3.29086 1.5 1.5 3.29086 1.5 5.5C1.5 7.70914 3.29086 9.5 5.5 9.5Z",strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=u.createElement("path",{d:"M10.5 10.5002L8.32495 8.3252",strokeLinecap:"round",strokeLinejoin:"round"})))}var O=u.forwardRef(L),q=(r.p,function(e){var t=e.hendelSubmit,r=e.hendelNameChange,n=e.name;return(0,x.jsx)("header",{className:y,children:(0,x.jsxs)("form",{className:w,onSubmit:t,children:[(0,x.jsx)("input",{className:Z,type:"text",placeholder:"enter the name of the movie",autoFocus:!0,value:n,onChange:r}),(0,x.jsxs)("button",{className:j,type:"submit",children:[(0,x.jsx)(O,{className:S}),(0,x.jsx)("span",{className:k,children:"Search"})]})]})})}),M=r(8129),E="idle",R="pending",I="resolve",P="rejected",D=function(){var e=(0,u.useState)(""),t=(0,s.Z)(e,2),r=t[0],n=t[1],a=(0,u.useState)([]),c=(0,s.Z)(a,2),p=c[0],f=c[1],_=(0,u.useState)(E),v=(0,s.Z)(_,2),g=v[0],y=v[1],w=(0,l.lr)(),j=(0,s.Z)(w,2),S=j[0],k=j[1],Z=S.get("query");(0,u.useEffect)((function(){(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Z){e.next=3;break}return e.abrupt("return");case 3:y(R),m.Z.fetchSearchFilms(Z).then((function(e){if(0===e.results.map((function(e){return{id:e.id,original_title:e.original_title,poster_path:e.poster_path}})).length)return y(P),void f([]);f(e.results),y(I)})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),h.Am.error(e.t0.message),y(P);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[Z]);return(0,x.jsxs)("div",{children:[(0,x.jsx)(q,{hendelSubmit:function(e){if(e.preventDefault(),""===r.trim())return h.Am.error("Please enter a name to search!");k({query:r}),n("")},hendelNameChange:function(e){n(e.currentTarget.value.toLowerCase())},name:r}),g===R&&(0,x.jsx)(M.Z,{}),g===I&&(0,x.jsx)(d.Z,{films:p}),g===P&&(0,x.jsx)(b,{query:Z}),(0,x.jsx)(h.Ix,{autoClose:3e3})]})};D.prototype={films:f().arrayOf(f().shape({id:f().number.isRequired,original_title:f().string.isRequired,original_name:f().string.isRequired,poster_path:f().string.isRequired})),query:f().string.isRequired};var U=D},2231:function(e,t,r){var n=r(5861),a=r(7757),i=r.n(a),s=r(4569),c=r.n(s);c().defaults.baseURL="https://api.themoviedb.org/3";var o="c38a13f755f1c1fdbaffd32cebe7bc69";function u(){return(u=(0,n.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("/search/movie?api_key=".concat(o,"&query=").concat(t));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("/trending/all/day?api_key=".concat(o));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=(0,n.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("movie/".concat(t,"?api_key=").concat(o));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=(0,n.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("/movie/".concat(t,"/credits?api_key=").concat(o,"&language=en-US"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,n.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get("/movie/".concat(t,"/reviews?api_key=").concat(o,"&language=en-US&page=1"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m={fetchSearchFilms:function(e){return u.apply(this,arguments)},fetchTrendingMovie:function(){return l.apply(this,arguments)},fetchDetailsMovie:function(e){return p.apply(this,arguments)},fetchCastActors:function(e){return f.apply(this,arguments)},fetchReviews:function(e){return h.apply(this,arguments)}};t.Z=m},967:function(e,t,r){e.exports=r.p+"static/media/gif.b3dde52b2773a31ba3c7.gif"}}]);
//# sourceMappingURL=576.a37998ab.chunk.js.map