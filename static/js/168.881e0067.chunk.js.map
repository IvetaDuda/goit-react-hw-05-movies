{"version":3,"file":"static/js/168.881e0067.chunk.js","mappings":"+NACA,EAA4B,2BAA5B,EAA8D,sBAA9D,EAAgG,2BAAhG,EAA2I,+BAA3I,EAAqL,0BAArL,EAAsO,sCAAtO,EAA+R,kCAA/R,EAAgV,8B,SC2ChV,EArCgB,WACd,IAAMA,GAAWC,EAAAA,EAAAA,MACjB,GAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KAMA,OAJAC,EAAAA,EAAAA,YAAU,WACRC,EAAAA,EAAAA,aAAiBN,GAAUO,MAAK,SAAAC,GAAI,OAAIJ,EAAWI,EAAKC,cACvD,CAACT,KAGF,eAAIU,UAAWC,EAAf,SACsB,IAAnBR,EAAQS,OACPT,EAAQU,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAASC,EAAxB,EAAwBA,eAAxB,OACV,gBAAaP,UAAWC,EAAxB,WACE,gBAAID,UAAWC,EAAf,qBAEE,kBAAMD,UAAWC,EAAjB,cAAsCI,SAGxC,cAAGL,UAAWC,EAAd,SAA6BK,IAC5BC,EAAeC,SACd,eAAGR,UAAWC,EAAd,qBAEE,iBAAMD,UAAWC,EAAjB,SACGM,EAAeC,cAXfJ,OAkBX,cAAGJ,UAAWC,EAAd,0D,yECnCRQ,IAAAA,SAAAA,QAAyB,+BACzB,IAAMC,EAAM,mCAEGC,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAgCC,GAAhC,uFACyBH,IAAAA,IAAA,gCACIC,EADJ,kBACiBE,IAF1C,cACQC,EADR,yBAISA,EAASf,MAJlB,kEAOegB,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,oGACyBL,IAAAA,IAAA,oCAAuCC,IADhE,cACQG,EADR,yBAESA,EAASf,MAFlB,kEAKeiB,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAiCC,GAAjC,uFACyBP,IAAAA,IAAA,gBAAmBO,EAAnB,oBAAsCN,IAD/D,cACQG,EADR,yBAESA,EAASf,MAFlB,kEAKemB,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA+BD,GAA/B,uFACyBP,IAAAA,IAAA,iBACXO,EADW,4BACgBN,EADhB,oBADzB,cACQG,EADR,yBAISA,EAASf,MAJlB,kEAOeoB,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA4B5B,GAA5B,uFACyBmB,IAAAA,IAAA,iBACXnB,EADW,4BACiBoB,EADjB,2BADzB,cACQG,EADR,yBAISA,EAASf,MAJlB,kEAOA,IAAMF,EAAM,CACVe,iBAlCF,SAEgC,GAAjBA,OAAAA,EAAAA,MAAAA,KAAAA,YAiCbG,mBAjCF,WAOeA,OAAAA,EAAAA,MAAAA,KAAAA,YA2BbC,kBA3BF,SAKiC,GAAlBA,OAAAA,EAAAA,MAAAA,KAAAA,YAuBbE,gBAvBF,SAK+B,GAAhBA,OAAAA,EAAAA,MAAAA,KAAAA,YAmBbC,aAnBF,SAO4B,GAAbA,OAAAA,EAAAA,MAAAA,KAAAA,aAcf","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","server/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Reviews_container__2j80+\",\"info\":\"Reviews_info__ij-Go\",\"infoTitle\":\"Reviews_infoTitle__f1RE7\",\"infoTitleItem\":\"Reviews_infoTitleItem__fcurL\",\"infoText\":\"Reviews_infoText__faZk9\",\"infoAuthorRatingItem\":\"Reviews_infoAuthorRatingItem__fCtGV\",\"infoAuthorRating\":\"Reviews_infoAuthorRating__59Q2p\",\"errorMessage\":\"Reviews_errorMessage__YpIaY\"};","import { useOutletContext } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\n\nimport api from 'server/api';\n\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const movie_id = useOutletContext();\n  const [reviews, setReviews] = useState([]);\n\n  useEffect(() => {\n    api.fetchReviews(movie_id).then(data => setReviews(data.results));\n  }, [movie_id]);\n\n  return (\n    <ul className={css.container}>\n      {reviews.length !== 0 ? (\n        reviews.map(({ id, author, content, author_details }) => (\n          <li key={id} className={css.info}>\n            <h1 className={css.infoTitle}>\n              Author:\n              <span className={css.infoTitleItem}> {author}</span>\n            </h1>\n\n            <p className={css.infoText}>{content}</p>\n            {author_details.rating && (\n              <p className={css.infoAuthorRatingItem}>\n                Rating:\n                <span className={css.infoAuthorRating}>\n                  {author_details.rating}\n                </span>\n              </p>\n            )}\n          </li>\n        ))\n      ) : (\n        <p className={css.errorMessage}>\n          We don't have any reviews for this movie\n        </p>\n      )}\n    </ul>\n  );\n};\nexport default Reviews;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst KEY = 'c38a13f755f1c1fdbaffd32cebe7bc69';\n\nasync function fetchSearchFilms(query) {\n  const response = await axios.get(\n    `/search/movie?api_key=${KEY}&query=${query}`\n  );\n  return response.data;\n}\n\nasync function fetchTrendingMovie() {\n  const response = await axios.get(`/trending/all/day?api_key=${KEY}`);\n  return response.data;\n}\n\nasync function fetchDetailsMovie(movieId) {\n  const response = await axios.get(`movie/${movieId}?api_key=${KEY}`);\n  return response.data;\n}\n\nasync function fetchCastActors(movieId) {\n  const response = await axios.get(\n    `/movie/${movieId}/credits?api_key=${KEY}&language=en-US`\n  );\n  return response.data;\n}\n\nasync function fetchReviews(movie_id) {\n  const response = await axios.get(\n    `/movie/${movie_id}/reviews?api_key=${KEY}&language=en-US&page=1`\n  );\n  return response.data;\n}\n\nconst api = {\n  fetchSearchFilms,\n  fetchTrendingMovie,\n  fetchDetailsMovie,\n  fetchCastActors,\n  fetchReviews,\n};\nexport default api;\n"],"names":["movie_id","useOutletContext","useState","reviews","setReviews","useEffect","api","then","data","results","className","css","length","map","id","author","content","author_details","rating","axios","KEY","fetchSearchFilms","query","response","fetchTrendingMovie","fetchDetailsMovie","movieId","fetchCastActors","fetchReviews"],"sourceRoot":""}